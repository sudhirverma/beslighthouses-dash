import * as React from "react";
import SiteWrapper from "./SiteWrapper";

import { Page } from "tabler-react";
import { PoiListToolbar } from "./components/PoiTable";
import { useState } from "react";
import { Card, Container } from "@mui/material";
import Vulnerability from "./report/vulnerability/Vulnerability";
import { vulnerabilityOffInterest } from "./data-store/dataStore";
import { verifyLink } from "./sections/AppOrderTimeline";

function VulnerabilityOfInterest() {
  const [filterName, setFilterName] = useState("");
  const handleFilterByName = (event: any) => {
    setFilterName(event.target.value);
  };

  const [report, setreport]: any = useState([]);
  React.useEffect(() => {
    verifyLink(vulnerabilityOffInterest, setreport);
  }, []);

  return (
    <SiteWrapper>
      <Page.Content title="Vulnerability Library"></Page.Content>
      <Container style={{ padding: "0px", marginTop: "12px" }}>
        <Card>
          <PoiListToolbar
            placeholderName="Package or ID search"
            filterName={filterName}
            onFilterName={handleFilterByName}
          />
        </Card>
      </Container>
      <Vulnerability data={report} filterName={filterName} />
    </SiteWrapper>
  );
}

export default VulnerabilityOfInterest;
